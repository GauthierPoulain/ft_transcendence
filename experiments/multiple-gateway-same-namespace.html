<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>Multiple gateway same namespace</title>
</head>

<body>
	<h1>Multiple gateway same namespace</h1>

	<button id="dummy">Send dummy message</button>
	<button id="auth">Send auth message</button>

	<script>
		const ws = new WebSocket(`ws://${document.location.hostname}:3005/`);

		ws.addEventListener("open", () => {
			console.log("websocket opened");

			document.getElementById("dummy").addEventListener("click", () => {
				ws.send(JSON.stringify({ event: "dummy" }));
			});

			document.getElementById("auth").addEventListener("click", () => {
				ws.send(JSON.stringify({ event: "auth" }));
			});
		});

		ws.addEventListener("message", (event) => {
			console.log("received a message", event.data);
		});
	</script>
</body>

</html>